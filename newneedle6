import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D  # noqa: F401
import numpy as np


def plot_3d_trajectories(points1, points2, points3):
    p1 = np.asarray(points1)
    p2 = np.asarray(points2)
    p3 = np.asarray(points3)

    fig = plt.figure(figsize=(8, 6))
    ax = fig.add_subplot(111, projection="3d")
    
    # Trajectory 1
    ax.plot(p1[:, 0], p1[:, 1], p1[:, 2],
        color='tab:blue', linewidth=2, label='Trajectory 1')
    ax.scatter(p1[:, 0], p1[:, 1], p1[:, 2],
            color='tab:blue', s=25)

# Trajectory 2
    ax.plot(p2[:, 0], p2[:, 1], p2[:, 2],
            color='tab:red', linewidth=2, label='Trajectory 2')
    ax.scatter(p2[:, 0], p2[:, 1], p2[:, 2],
            color='tab:red', s=15)

# Trajectory 3
    ax.plot(p3[:, 0], p3[:, 1], p3[:, 2],
            color='tab:green', linewidth=2, label='Trajectory 3')
    ax.scatter(p3[:, 0], p3[:, 1], p3[:, 2],
            color='tab:green', s=25)


    ax.set_xlabel("X")
    ax.set_ylabel("Y")
    ax.set_zlabel("Z")

    ax.set_xlim(0, 180)
    ax.set_ylim(-30, 50)
    ax.set_zlim(-50, 130)

    ax.set_title("3D Trajectory Comparison (press 1/2/3/4)")
    ax.legend()

    # Equal scaling
    ax.set_box_aspect([1, 1, 1])

    # Start in diagonal view
    ax.view_init(elev=25, azim=-60)

    def on_key(event):
        k = event.key
        if k == "1":
            # XY view: look down Z axis
            ax.view_init(elev=90, azim=-90)
        elif k == "2":
            # YZ view: look down X axis
            ax.view_init(elev=0, azim=0)
        elif k == "3":
            # XZ view: look down Y axis
            ax.view_init(elev=0, azim=-90)
        elif k == "4":
            # Diagonal/perspective view
            ax.view_init(elev=25, azim=-60)

        fig.canvas.draw_idle()

    fig.canvas.mpl_connect("key_press_event", on_key)
    plt.tight_layout()
    plt.show()


# ===== paste your trajectories here (same as before) =====
points1 = [
    [2.358, 1.848, 0.673],
    [5.016, 4.611, 0.934],
    [7.731, 6.089, 1.145],
    [10.164, 8.343, 1.188],
    [12.870, 9.481, 1.365],
    [15.292, 10.255, 1.778],
    [17.849, 11.084, 2.066],
    [20.087, 11.603, 2.137],
    [22.278, 12.984, 2.558],
    [25.411, 13.735, 3.047],
    [27.964, 14.926, 3.548],
    [30.086, 15.581, 4.104],
    [32.318, 16.152, 4.488],
    [35.136, 17.049, 4.959],
    [37.725, 17.832, 5.442],
    [40.388, 18.106, 6.053],
    [42.085, 18.879, 6.465],
    [45.468, 19.394, 7.237],
    [48.102, 19.786, 7.860],
    [50.261, 20.183, 8.515],
    [52.616, 20.604, 8.993],
    [55.335, 20.787, 9.561],
    [57.218, 20.692, 9.964],
    [60.053, 20.682, 10.087],
    [62.877, 20.871, 10.457],
    [64.713, 20.405, 10.846],
    [67.380, 20.572, 11.015],
    [70.056, 20.467, 10.841],
    [72.130, 19.931, 10.973],
    [74.782, 19.559, 10.892],
    [77.613, 19.304, 10.685],
    [80.095, 18.658, 10.361],
    [82.326, 18.344, 10.007],
    [85.202, 17.897, 9.558],
    [87.348, 17.103, 8.931],
    [90.046, 16.247, 8.125],
    [92.143, 15.578,7.218],
    [94.871, 15.131, 6.326],
    [97.954, 14.967, 5.084],
    [100.108, 13.586, 4.133],
    [102.447, 12.405, 2.914],
    [105.032, 11.798, 1.843],
    [107.196, 11.147, 0.448],
    [109.790, 10.343, -0.993],
    [112.247, 8.959, -2.538],
    [115.692, 8.116, -3.493],
    [117.840, 6.875, -5.214],
    [119.285, 5.63, -7.04]
]

points2 = [
    [0.00000, 0.00000, 0.00000],
    [2.06402, 2.00279, 0.00106],
    [4.18713, 3.94284, 0.00409],
    [6.36745, 5.81836, 0.00654],
    [8.60321, 7.62742, 0.00822],
    [10.89215, 9.36871, 0.01338],
    [13.23224, 11.04063, 0.02154],
    [15.62156, 12.64138, 0.03051],
    [18.05784, 14.16973, 0.03941],
    [20.53883, 15.62436, 0.04822],
    [23.06228, 17.00399, 0.06288],
    [25.62575, 18.30760, 0.08634],
    [28.22660, 19.53462, 0.12316],
    [30.86259, 20.68379, 0.17180],
    [33.53163, 21.75349, 0.22964],
    [36.23124, 22.74295, 0.29604],
    [38.95903, 23.65124, 0.37036],
    [41.71267, 24.47732, 0.45054],
    [44.48976, 25.22048, 0.53335],
    [47.28800, 25.87995, 0.61290],
    [50.10482, 26.45663, 0.67850],
    [52.93758, 26.95161, 0.72186],
    [55.78339, 27.36700, 0.73429],
    [58.63935, 27.70506, 0.71001],
    [61.50216, 27.97091, 0.63920],
    [64.36819, 28.17285, 0.51100],
    [67.23370, 28.32138, 0.31562],
    [70.09537, 28.42356, 0.04768],
    [72.95114, 28.47392, -0.28911],
    [75.79905, 28.46720, -0.68999],
    [78.63669, 28.40209, -1.15361],
    [81.46098, 28.28327, -1.68334],
    [84.26857, 28.12058, -2.28532],
    [87.05734, 27.90948, -2.95582],
    [89.82736, 27.63346, -3.67843],
    [92.57939, 27.28087, -4.43564],
    [95.31245, 26.84859, -5.21979],
    [98.02188, 26.34213, -6.04069],
    [100.70571, 25.76049, -6.89516],
    [103.36847, 25.09929, -7.75766],
    [106.01418, 24.35500, -8.60477],
    [108.63695, 23.52783, -9.44635],
    [111.22997, 22.62539, -10.30265],
    [113.78585, 21.66090, -11.20194],
    [116.32974, 20.67723, -12.11463],
    [118.87364, 19.69355, -13.02731],
    [121.41753, 18.70988, -13.94000],
    [123.96142, 17.72621, -14.85268],
    [126.50531, 16.74253, -15.76537],
    [129.04920, 15.75886, -16.67806],
]



points3 = [
    [4.291, 3.54, 1.592],
    [10.446, 7.141, 1.747],
    [17.414, 10.396, 1.879],
    [25.361, 13.986, 1.922],
    [33.047, 17.262, 2.284],
    [40.703, 19.711, 2.789],
    [45.244, 20.313, 3.247],
    [48.44, 21.698, 2.712],
    [54.388, 22.742, 1.302],
    [57.208, 23.027, -0.688],
    [61.434, 23.244, -0.356],
    [68.174, 24.656, -1.205],
    [79.151, 23.792, -1.949],
    [83.24, 23.191, -2.837],
    [85.92, 23.021, -3.627],
    [89.6, 22.584, -4.29],
    [95.432, 21.832, -5.827],
    [105.581, 19.721, -6.725],
    [113.724, 18.21, -8.136],
]


plot_3d_trajectories(points1, points2, points3)
