import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D  # noqa: F401
import numpy as np


def plot_3d_trajectories(points1, points2, points3):
    p1 = np.asarray(points1)
    p2 = np.asarray(points2)
    p3 = np.asarray(points3)

    fig = plt.figure(figsize=(8, 6))
    ax = fig.add_subplot(111, projection="3d")
    
    # Trajectory 1
    ax.plot(p1[:, 0], p1[:, 1], p1[:, 2],
        color='tab:blue', linewidth=2, label='Trajectory 1')
    ax.scatter(p1[:, 0], p1[:, 1], p1[:, 2],
            color='tab:blue', s=25)

# Trajectory 2
    ax.plot(p2[:, 0], p2[:, 1], p2[:, 2],
            color='tab:red', linewidth=2, label='Trajectory 2')
    ax.scatter(p2[:, 0], p2[:, 1], p2[:, 2],
            color='tab:red', s=15)

# Trajectory 3
    ax.plot(p3[:, 0], p3[:, 1], p3[:, 2],
            color='tab:green', linewidth=2, label='Trajectory 3')
    ax.scatter(p3[:, 0], p3[:, 1], p3[:, 2],
            color='tab:green', s=25)


    ax.set_xlabel("X")
    ax.set_ylabel("Y")
    ax.set_zlabel("Z")

    ax.set_xlim(0, 180)
    ax.set_ylim(-30, 50)
    ax.set_zlim(-50, 130)

    ax.set_title("3D Trajectory Comparison (press 1/2/3/4)")
    ax.legend()

    # Equal scaling
    ax.set_box_aspect([1, 1, 1])

    # Start in diagonal view
    ax.view_init(elev=25, azim=-60)

    def on_key(event):
        k = event.key
        if k == "1":
            # XY view: look down Z axis
            ax.view_init(elev=90, azim=-90)
        elif k == "2":
            # YZ view: look down X axis
            ax.view_init(elev=0, azim=0)
        elif k == "3":
            # XZ view: look down Y axis
            ax.view_init(elev=0, azim=-90)
        elif k == "4":
            # Diagonal/perspective view
            ax.view_init(elev=25, azim=-60)

        fig.canvas.draw_idle()

    fig.canvas.mpl_connect("key_press_event", on_key)
    plt.tight_layout()
    plt.show()


# ===== paste your trajectories here (same as before) =====
points1 = [
    [3.252, -0.189, -0.298],
    [7.78, -0.21, -0.631],
    [12.91, -0.131, -0.524],
    [15.738, -0.623, -0.540],
    [19.05, -1.034, -0.76],
    [21.48, -1.24, -0.93],
    [26.22, -1.981, -1.34],
    [30.114, -1.827, -1.21],
    [34.16, -1.931, -1.17],
    [37.287, -2.64, -0.91],
    [41.45, -3.12, 0.123],
    [45.78, -2.47, -0.45],
    [49.63, -1.54, -2.12],
    [54.255, 0.36, -4.35],
    [59.319, 0.812, -5.201],
    [64.85, 1.65, -7.82],
    [68.92, 2.34, -9.45],
    [73.25, 3.38, -12.33],
    [77.76, 4.29, -13.87],
    [83.24, 5.70, -14.92],
    [88.12, 7.56, -17.25],
    [95.09, 10.14, -21.5],
    [99.45, 12.34, -23.78],
    [102.63, 14.71, -25.67],
    [108.45, 16.85, -28.34],
    [113.02, 18.33, -30.17],
    [117.38, 21.56, -34.09]
]

points2 = [
    [0.0, 0.0, 0.0],
    [1.83474, 0.0, 0.0],
    [3.66948, 0.0, 0.0],
    [5.50423, 0.0, 0.0],
    [7.33897, 0.0, 0.0],
    [9.17371, 0.0, 0.0],
    [11.00846, 0.0, 0.0],
    [12.84320, 0.0, 0.0],
    [14.67785, -0.01506, -0.00024],
    [16.51189, -0.06507, -0.00102],
    [18.34501, -0.14195, -0.00223],
    [20.17807, -0.22062, -0.00346],
    [22.01113, -0.29928, -0.00470],
    [23.84418, -0.37794, -0.00593],
    [25.67725, -0.45639, -0.00738],
    [27.51081, -0.51919, -0.02432],
    [29.34466, -0.55731, -0.06567],
    [31.17847, -0.58566, -0.11673],
    [33.01182, -0.60356, -0.18525],
    [34.84403, -0.60496, -0.28134],
    [36.67597, -0.60317, -0.38272],
    [38.50750, -0.59098, -0.49022],
    [40.33747, -0.54902, -0.61517],
    [42.16521, -0.47688, -0.75782],
    [43.98999, -0.37491, -0.91885],
    [45.81113, -0.24330, -1.09859],
    [47.62800, -0.08204, -1.29648],
    [49.44002, 0.10984, -1.51082],
    [51.24651, 0.33257, -1.74141],
    [53.04678, 0.58518, -1.98919],
    [54.84009, 0.86676, -2.25551],
    [56.62578, 1.17717, -2.54036],
    [58.40311, 1.51593, -2.84450],
    [60.17147, 1.88260, -3.16794],
    [61.93024, 2.27736, -3.51011],
    [63.67882, 2.70076, -3.86983],
    [65.41656, 3.15269, -4.24690],
    [67.14283, 3.63358, -4.64047],
    [68.85706, 4.14342, -5.04994],
    [70.55861, 4.68186, -5.47537],
    [72.24682, 5.24814, -5.91748],
    [73.92106, 5.84198, -6.37620],
    [75.58062, 6.46288, -6.85216],
    [77.22492, 7.11004, -7.34574],
    [78.85339, 7.78309, -7.85690],
    [80.46540, 8.48071, -8.38690],
    [82.06026, 9.20257, -8.93603],
    [83.63750, 9.94767, -9.50464],
    [85.19661, 10.71453, -10.09394],
    [86.73703, 11.50279, -10.70379],
    [88.25817, 12.31108, -11.33543],
    [89.75969, 13.13829, -11.98913],
    [91.24106, 13.98401, -12.66477],
    [92.70176, 14.84745, -13.36263],
    [94.14118, 15.72830, -14.08259],
    [95.55895, 16.62606, -14.82431],
    [96.95455, 17.54033, -15.58757],
    [98.32732, 18.47076, -16.37243],
    [99.67736, 19.41464, -17.18028],
    [101.00438, 20.37086, -18.01146],
    [102.30784, 21.33859, -18.86626],
    [103.58791, 22.31554, -19.74555],
    [104.84420, 23.30121, -20.64907],
    [106.07621, 24.29514, -21.57667],
    [107.28347, 25.29688, -22.52810],
    [108.46558, 26.30633, -23.50268],
    [109.62137, 27.32569, -24.49829],
    [110.75026, 28.35522, -25.51408],
    [111.85175, 29.39528, -26.54905],
    [112.92514, 30.44654, -27.60207],
    [113.97041, 31.50762, -28.67339],
    [114.98840, 32.57342, -29.76607],
]

points3 = [
    [9.994, 0.864, 1.894],
    [16.795, 0.700, 2.661],
    [23.128, 0.700, 3.771],
    [26.778, 1.261, 4.278],
    [30.524, 1.401, 4.138],
    [32.447, 1.821, 4.377],
    [36.004, 2.241, 4.753],
    [44.394, 2.802, 4.190],
    [51.603, 5.884, 3.963],
    [60.105, 5.334, 2.763],
    [71.854, 6.742, -0.129],
    [80.104, 8.068, -3.014],
    [84.431, 10.301, -4.367],
    [92.355, 12.798, -8.038],
    [99.736, 14.252, -10.805],
    [107.33, 17.767, -14.814],
    [110.306, 20.173, -15.965],
]

plot_3d_trajectories(points1, points2, points3)
